(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{592:(e,t,a)=>{Promise.resolve().then(a.bind(a,6906))},801:(e,t,a)=>{"use strict";a.d(t,{q:()=>n});var r=a(694),s=a(404);let l=(0,r.cw)({baseUrl:"http://localhost:8000/api",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization","Bearer ".concat(t)),e}}),n=(0,s.xP)({baseQuery:l,endpoints:()=>({})})},1895:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>i,Zp:()=>l,aR:()=>n});var r=a(5155);a(2115);var s=a(9434);function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}},5741:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(5155);a(2115);var s=a(4624),l=a(2085),n=a(9434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:l,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,n.cn)(i({variant:a,size:l,className:t})),...d})}},6906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L});var r=a(5155),s=a(2115),l=a(9552),n=a(5040),i=a(3568),o=a(5695),d=a(5814),c=a.n(d);let u=e=>{let{setCurrentSection:t,currentSection:a}=e,[l,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{n(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)("div",{className:"flex border-b border-gray-300 bg-white sticky top-0 z-10",children:[(0,r.jsx)("button",{onClick:()=>t(1),className:"flex-1 ".concat(l?"py-2 text-xs":"py-4 text-base"," font-bold border-b-4 ").concat(1===a?"border-blue-900 text-blue-900":"border-transparent text-gray-500"),children:"1. TOPIC"}),(0,r.jsx)("button",{onClick:()=>t(2),className:"flex-1 ".concat(l?"py-2 text-xs":"py-4 text-base"," font-bold border-b-4 ").concat(2===a?"border-blue-900 text-blue-900":"border-transparent text-gray-500"),children:"2. PARTICIPANTS"}),(0,r.jsx)("button",{onClick:()=>t(3),className:"flex-1 ".concat(l?"py-2 text-xs":"py-4 text-base"," font-bold border-b-4 ").concat(3===a?"border-blue-900 text-blue-900":"border-transparent text-gray-500"),children:"3. SCOPE"})]})};var m=a(9074),x=a(4186),h=a(3052);let p=e=>{let{formData:t,imagePreview:a,setPreviewMode:s}=e;return(0,r.jsxs)("div",{className:"bg-white shadow-lg w-full",children:[(0,r.jsxs)("div",{className:"relative",children:[a?(0,r.jsx)("img",{src:a,alt:"Debate preview",className:"w-full h-48 object-cover"}):(0,r.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-500",children:"No cover image selected"})}),(0,r.jsx)("div",{className:"absolute top-0 left-0 bg-blue-900 text-white px-4 py-1",children:t.category||"Uncategorized"})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:t.title||"Untitled Debate"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:t.context||"No context provided"}),(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(m.A,{size:16,className:"text-blue-900 mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:t.startDate?new Date(t.startDate).toLocaleDateString():"Date not set"}),(0,r.jsx)("span",{className:"mx-2",children:"•"}),(0,r.jsx)(x.A,{size:16,className:"text-blue-900 mr-2"}),(0,r.jsxs)("span",{className:"text-sm",children:[t.durationDays," days"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"bg-red-50 p-3 border-l-4 border-red-600",children:[(0,r.jsx)("h3",{className:"font-bold text-sm mb-1",children:"FOR"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:t.leadFor||"No lead panelist"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:t.supportingFor||"No supporting panelist"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-3 border-l-4 border-blue-600",children:[(0,r.jsx)("h3",{className:"font-bold text-sm mb-1",children:"AGAINST"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:t.leadAgainst||"No lead panelist"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:t.supportingAgainst||"No supporting panelist"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"px-3 py-1 text-xs font-bold ".concat("Private"===t.scope?"bg-gray-200":"bg-green-100 text-green-800"),children:t.scope}),(0,r.jsx)("span",{className:"mx-2",children:"•"}),(0,r.jsx)("span",{className:"px-3 py-1 text-xs font-bold ".concat("Sponsored"===t.type?"bg-yellow-100 text-yellow-800":"bg-gray-200"),children:"Sponsored"===t.type?"".concat(t.prizeAmount||"$"," Prize"):"Free"})]}),(0,r.jsxs)("button",{onClick:()=>s(!1),className:"text-blue-900 font-bold text-sm flex items-center",children:["Edit ",(0,r.jsx)(h.A,{size:16})]})]})]})]})};var g=a(7924),b=a(4416),y=a(9037),j=a(9869),v=a(3464),f=a(1284);let N={title:"The main topic or question for debate. Be clear and concise.",coverImage:"An image to represent your debate topic. Ideal size is 1200\xd7630px.",leadFor:"The primary advocate for the proposition/affirmative side.",leadAgainst:"The primary advocate for the opposition/negative side.",supportingFor:"Additional participant supporting the affirmative side.",supportingAgainst:"Additional participant supporting the negative side.",judges:"Impartial evaluators who will determine the outcome of the debate.",startDate:"When the debate will begin. All participants should be available.",durationDays:"How many days the debate will last. Longer debates allow for more in-depth arguments.",category:"The subject area your debate falls under.",context:"Additional background information to help participants understand the debate's scope and purpose.",institution:"Organization or school hosting/associated with this debate.",scope:"Private debates are invitation-only. Open debates allow public viewing and participation.",type:"Free debates have no monetary incentive. Sponsored debates include prizes.",prizeAmount:"The reward offered to winning participants in sponsored debates."},w=e=>{let{htmlFor:t,tooltip:a,children:l}=e,[n,i]=(0,s.useState)(null),o=e=>{i(n===e?null:e)};return(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-md font-bold mb-2",htmlFor:t,children:l}),a&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>o(t),children:(0,r.jsx)(f.A,{size:16})}),n===t&&(0,r.jsx)("div",{className:"absolute z-10 bg-gray-800 text-white text-xs rounded-none py-1 px-2 right-0 -mt-1 max-w-xs",children:a})]})]})},C=e=>{let{id:t,name:a,value:l,onChange:n,options:i,placeholder:o,required:d}=e,[c,u]=(0,s.useState)(!1),[m,x]=(0,s.useState)(""),h=(0,s.useRef)(null),p=null==i?void 0:i.filter(e=>"string"==typeof e?e.toLowerCase().includes(m.toLowerCase()):e.categoryName?e.categoryName.toLowerCase().includes(m.toLowerCase()):e.countryName.toLowerCase().includes(m.toLowerCase()));(0,s.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let y=e=>{n({target:{name:a,value:"string"==typeof e?e:e.categoryName?e.categoryName:e.countryName}}),u(!1),x("")};return(0,r.jsxs)("div",{className:"relative",ref:h,onKeyDown:e=>{"Escape"===e.key&&u(!1)},children:[(0,r.jsxs)("div",{className:"".concat("w-full p-3 border-0 border-b-2 border-gray-300 focus:outline-none focus:border-blue-900 text-sm transition-all duration-200 bg-gray-50"," flex items-center justify-between cursor-pointer"),onClick:()=>u(!c),children:[(0,r.jsxs)("div",{className:"flex-grow flex items-center",children:[(0,r.jsx)(g.A,{size:16,className:"text-gray-400 mr-2"}),c?(0,r.jsx)("input",{autoFocus:!0,type:"text",value:m,onChange:e=>x(e.target.value),placeholder:o,className:"flex-grow border-none bg-transparent focus:outline-none p-0",onClick:e=>e.stopPropagation()}):(0,r.jsx)("span",{className:l?"text-black":"text-gray-400",children:l||o})]}),l&&!c&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),n({target:{name:a,value:""}})},className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(b.A,{size:16})})]}),c&&(0,r.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 shadow-lg max-h-60 overflow-y-auto",children:(null==p?void 0:p.length)>0?p.map((e,t)=>{let a="string"==typeof e?e:e.categoryName?e.categoryName:e.countryName,s="string"==typeof e?e:e._id;return(0,r.jsx)("div",{className:"p-3 hover:bg-gray-100 cursor-pointer",onClick:()=>y(e),children:a},s||t)}):(0,r.jsx)("div",{className:"p-3 text-gray-500",children:"No results found"})})]})},S=e=>{let{formData:t,handleInputChange:a,handleFileUpload:l,categoryOptions:n,countryOptions:i,userRole:o,setCurrentSection:d,imagePreview:c}=e,u="w-full p-3 border-0 border-b-2 border-gray-300 focus:outline-none focus:border-blue-900 text-sm transition-all duration-200 bg-gray-200",[m,x]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{if(!t.country){g(!0);try{let e=await v.A.get("https://ipapi.co/json/");e.data&&e.data.country_name&&a({target:{name:"country",value:e.data.country_name}})}catch(e){console.log("Could not detect location:",e)}finally{g(!1)}}})()},[t.country,a]);let b=e=>{a(e)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"bg-blue-900 text-white p-2 mr-3",children:(0,r.jsx)(y.A,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Basic Information"})]}),(0,r.jsxs)("div",{className:"mb-6 ",children:[(0,r.jsx)(w,{htmlFor:"title",tooltip:N.title,children:"Wribate Title*"}),(0,r.jsx)("input",{id:"title",type:"text",name:"title",value:t.title,onChange:a,className:u,placeholder:"Enter a clear title for your debate",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)(w,{htmlFor:"context",tooltip:N.context,children:"Context"}),(0,r.jsx)("textarea",{id:"context",name:"context",value:t.context,onChange:a,className:"".concat(u," h-24"),placeholder:"Provide background information and context for the debate"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Optional: Additional context helps participants understand the scope of the debate"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)(w,{htmlFor:"coverImage",tooltip:N.coverImage,children:"Cover Image"}),(0,r.jsx)("div",{className:"border border-dashed border-gray-300 p-6  bg-gray-200",children:(0,r.jsxs)("div",{className:"text-center",children:[c?(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("img",{src:c,alt:"Cover preview",className:"mx-auto h-40 object-cover"})}):(0,r.jsx)(j.A,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),(0,r.jsxs)("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-blue-900 text-white hover:bg-blue-800 transition font-medium",children:[c?"Change Image":"Select Image",(0,r.jsx)("input",{id:"coverImage",type:"file",className:"hidden",onChange:l,accept:"image/*"})]}),(null==t?void 0:t.coverImage)&&(0,r.jsxs)("p",{className:"mt-3 text-sm text-gray-600 font-medium",children:["Selected: ",t.coverImage.name]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"category",tooltip:N.category,children:"Category*"}),(0,r.jsx)(C,{id:"category",name:"category",value:t.category,onChange:b,options:n,placeholder:"Select a category",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"country",tooltip:N.country||"Select the country relevant to this debate",children:"Country"}),m?(0,r.jsxs)("div",{className:"".concat(u," flex items-center"),children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-900 rounded-full animate-spin mr-2"}),(0,r.jsx)("span",{className:"text-gray-500",children:"Loading ..."})]}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(C,{id:"country",name:"country",value:t.country||"",onChange:b,options:i,placeholder:p?"Detecting your location...":"Select a country"}),p&&(0,r.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})})]})]})]}),(!o||"user"!==o)&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)(w,{htmlFor:"institution",tooltip:N.institution,children:"Institution"}),(0,r.jsx)("input",{id:"institution",type:"text",name:"institution",value:t.institution||"",onChange:a,className:u,placeholder:"Organization or school name"})]})]}),(0,r.jsx)("div",{className:"flex justify-end mt-10",children:(0,r.jsxs)("button",{type:"button",onClick:()=>d(2),className:"bg-blue-900 text-white font-bold py-3 px-8 flex items-center",children:["Next: Participants ",(0,r.jsx)(h.A,{size:20,className:"ml-2"})]})})]})};var A=a(7580),k=a(5196);let D=e=>{let{formData:t,handleInputChange:a,setCurrentSection:s}=e,l="w-full p-3 border-0 border-b-2 border-gray-300 focus:outline-none focus:border-blue-900 text-sm transition-all duration-200  bg-gray-200";return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"bg-blue-900 text-white p-2 mr-3",children:(0,r.jsx)(A.A,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Panel Setup"})]}),(0,r.jsxs)("div",{className:"flex flex-row flex-wrap justify-between gap-2 mb-6",children:[(0,r.jsxs)("div",{className:"border-2 border-red-600 p-6 w-full sm:w-[40%] bg-gray-50",children:[(0,r.jsx)("h3",{className:"font-bold text-red-600 mb-4 text-lg border-b border-gray-200 pb-2",children:"FOR THE MOTION"}),(0,r.jsx)("div",{className:"space-y-5",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"leadFor",tooltip:N.leadFor,children:"Lead Panelist Email*"}),(0,r.jsx)("input",{id:"leadFor",type:"email",name:"leadFor",value:t.leadFor,onChange:a,className:l,placeholder:"Email address",required:!0})]})})]}),(0,r.jsx)("div",{className:"flex items-center w-full sm:w-fit text-4xl font-bold justify-center",children:"VS"}),(0,r.jsxs)("div",{className:"border-2 border-blue-600 p-6 w-full sm:w-[40%] bg-gray-50",children:[(0,r.jsx)("h3",{className:"font-bold text-blue-600 mb-4 text-lg border-b border-gray-200 pb-2",children:"AGAINST THE MOTION"}),(0,r.jsx)("div",{className:"space-y-5",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"leadAgainst",tooltip:N.leadAgainst,children:"Lead Panelist Email*"}),(0,r.jsx)("input",{id:"leadAgainst",type:"email",name:"leadAgainst",value:t.leadAgainst,onChange:a,className:l,placeholder:"Email address",required:!0})]})})]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"bg-blue-900 text-white p-2 mr-3",children:(0,r.jsx)(k.A,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Judges (optional)"})]}),(0,r.jsx)("div",{className:"bg-gray-50 p-6 border-l-4 border-gray-800 mb-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"judge1",tooltip:N.judges,children:"Judge 1 Email"}),(0,r.jsx)("input",{id:"judge1",type:"email",name:"judge1",value:t.judge1,onChange:a,className:l,placeholder:"Email address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"judge2",tooltip:N.judges,children:"Judge 2 Email"}),(0,r.jsx)("input",{id:"judge2",type:"email",name:"judge2",value:t.judge2,onChange:a,className:l,placeholder:"Email address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"judge3",tooltip:N.judges,children:"Judge 3 Email"}),(0,r.jsx)("input",{id:"judge3",type:"email",name:"judge3",value:t.judge3,onChange:a,className:l,placeholder:"Email address"})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-10",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s(1),className:"border-2 border-blue-900 text-blue-900 font-bold py-3 px-8",children:"Back"}),(0,r.jsxs)("button",{type:"button",onClick:()=>s(3),className:"bg-blue-900 text-white font-bold py-3 px-8 flex items-center",children:["Next: Settings ",(0,r.jsx)(h.A,{size:20,className:"ml-2"})]})]})]})},F=e=>{let{formData:t,handleInputChange:a,setCurrentSection:s,handleToggleChange:l,isLoading:n}=e,i="w-full p-3 border-0 border-b-2 border-gray-300 focus:outline-none focus:border-blue-900 text-sm transition-all duration-200  bg-gray-200";return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"bg-blue-900 text-white p-2 mr-3",children:(0,r.jsx)(x.A,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Schedule"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-gray-50 p-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"startDate",tooltip:N.startDate,children:"Start Date & Time*"}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{id:"startDate",type:"datetime-local",name:"startDate",value:t.startDate,onChange:a,className:"".concat(i," pr-10"),required:!0})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"durationDays",tooltip:N.durationDays,children:"Duration in Days*"}),(0,r.jsx)("input",{id:"durationDays",type:"number",name:"durationDays",value:t.durationDays,onChange:a,className:i,max:"30",required:!0})]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"bg-blue-900 text-white p-2 mr-3",children:(0,r.jsx)(f.A,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Additional Settings"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"p-4 bg-gray-50 border-l-4 border-gray-800",children:[(0,r.jsx)(w,{htmlFor:"scope",tooltip:N.scope,children:"Visibility"}),(0,r.jsxs)("div",{className:"flex items-center h-12",children:[(0,r.jsx)("span",{className:"mr-3 text-sm ".concat("Open"===t.scope?"font-bold text-blue-900":"text-gray-500"),children:"Open to All"}),(0,r.jsx)("div",{className:"w-12 h-6 flex items-center rounded-none p-1 cursor-pointer ".concat("Private"===t.scope?"bg-blue-900":"bg-gray-300"),onClick:()=>l("scope","Open"===t.scope?"Private":"Open"),children:(0,r.jsx)("div",{className:"bg-white h-5 w-5 shadow-md transform transition-transform ".concat("Private"===t.scope?"translate-x-6":"")})}),(0,r.jsx)("span",{className:"ml-3 text-sm ".concat("Private"===t.scope?"font-bold text-blue-900":"text-gray-500"),children:"Private"})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-50 border-l-4 border-gray-800",children:[(0,r.jsx)(w,{htmlFor:"type",tooltip:N.type,children:"Debate Type"}),(0,r.jsxs)("div",{className:"flex items-center h-12",children:[(0,r.jsx)("span",{className:"mr-3 text-sm ".concat("Free"===t.type?"font-bold text-blue-900":"text-gray-500"),children:"Free"}),(0,r.jsx)("div",{className:"w-12 h-6 flex items-center rounded-none p-1 cursor-pointer ".concat("Sponsored"===t.type?"bg-blue-900":"bg-gray-300"),onClick:()=>l("type","Free"===t.type?"Sponsored":"Free"),children:(0,r.jsx)("div",{className:"bg-white h-5 w-5 shadow-md transform transition-transform ".concat("Sponsored"===t.type?"translate-x-6":"")})}),(0,r.jsx)("span",{className:"ml-3 text-sm ".concat("Sponsored"===t.type?"font-bold text-blue-900":"text-gray-500"),children:"Sponsored"})]})]})]}),"Sponsored"===t.type&&(0,r.jsxs)("div",{className:"mb-6 bg-yellow-50 p-4 border-l-4 border-yellow-600",children:[(0,r.jsx)(w,{htmlFor:"prizeAmount",tooltip:N.prizeAmount,children:"Prize Amount*"}),(0,r.jsx)("input",{id:"prizeAmount",type:"text",name:"prizeAmount",value:t.prizeAmount,onChange:a,className:"".concat(i," bg-yellow-50"),placeholder:"e.g. $500",required:"Sponsored"===t.type})]})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-10",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s(2),className:"border-2 border-blue-900 text-blue-900 font-bold py-3 px-8",children:"Back"}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"bg-blue-900 text-white font-bold py-3 px-8 flex items-center",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Wribate..."]}):"Submit & Create Wribate"})]})]})};var z=a(4540),P=a(7267);let q=()=>{let{userId:e,userRole:t}=(0,z.d4)(e=>e.auth),a=(0,z.wA)(),{data:d}=(0,l.Wm)(),m=[...(null==d?void 0:d.catgories)||[]].sort((e,t)=>e.categoryName.localeCompare(t.categoryName)),{data:x}=(0,l.ql)(),h=[...(null==x?void 0:x.countries)||[]].sort((e,t)=>e.countryName.localeCompare(t.countryName));(0,s.useRef)(null);let g=(0,o.useRouter)(),[b,{isLoading:y}]=(0,l.Lh)(),[j,v]=(0,s.useState)(!1),[f,N]=(0,s.useState)({title:"",coverImage:null,coverImageBase64:null,leadFor:"",leadAgainst:"",supportingFor:"",supportingAgainst:"",judge1:"",judge2:"",judge3:"",startDate:"",durationDays:1,category:"",country:"",institution:"",context:"",scope:"Open",type:"Free",prizeAmount:"",_id:e}),w=(0,z.d4)(e=>e.wribate.currentWribate);(0,s.useEffect)(()=>{w?(N({title:(null==w?void 0:w.title)||"",coverImage:(null==w?void 0:w.coverImage)||null,coverImageBase64:null,leadFor:(null==w?void 0:w.leadFor)||"",leadAgainst:(null==w?void 0:w.leadAgainst)||"",supportingFor:(null==w?void 0:w.supportingFor)||"",supportingAgainst:(null==w?void 0:w.supportingAgainst)||"",judge1:(null==w?void 0:w.judges[0])||"",judge2:(null==w?void 0:w.judges[1])||"",judge3:(null==w?void 0:w.judges[2])||"",startDate:(null==w?void 0:w.startDate)||"",durationDays:(null==w?void 0:w.durationDays)||1,category:(null==w?void 0:w.category)||"",country:(null==w?void 0:w.country)||"",institution:(null==w?void 0:w.institution)||"",context:(null==w?void 0:w.context)||"",scope:(null==w?void 0:w.scope)||"Open",type:(null==w?void 0:w.type)||"Free",prizeAmount:(null==w?void 0:w.prizeAmount)||"",_id:(null==w?void 0:w.createdBy)||e}),v(!1)):v(!0)},[]);let[C,A]=(0,s.useState)(null),[k,q]=(0,s.useState)(!1),[E,O]=(0,s.useState)(1),[T,I]=(0,s.useState)(!1),L=e=>{let{name:t,value:a}=e.target;N(e=>({...e,[t]:a}))},W=async e=>{if(e.preventDefault(),q(!0),j){var t,r;try{let e={...f};e.judges=[f.judge1,f.judge2,f.judge3],delete e.coverImage;let r=new Date(e.startDate).getTime()+198e5;e.startDate=new Date(r).toISOString();let s=await b(e,{withCredentials:!0,headers:function(){let e=localStorage.getItem("token");return{authorization:e?"Bearer ".concat(e):"","Content-Type":"application/json"}}()});s.data.res?(i.Ay.success("Wribate created successfully"),a((0,P.O)()),g.push("/wribates")):i.Ay.error((null==s||null==(t=s.data)?void 0:t.msg)||"Error creating wribate")}catch(e){console.error(e),i.Ay.error((null==e||null==(r=e.data)?void 0:r.message)||(null==e?void 0:e.message)||"Error creating wribate")}finally{q(!1)}}};return(0,r.jsxs)("div",{className:"w-full max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Wribate"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Set up your debate parameters, invite participants, and establish rules"})]}),(0,r.jsxs)("button",{onClick:()=>I(!T),className:"bg-white border-2 border-blue-900 text-blue-900 font-bold py-2 px-6 flex items-center",children:[T?"Edit":"Preview"," ",(0,r.jsx)(n.A,{className:"ml-2",size:16})]})]}),T?(0,r.jsx)(p,{formData:f,imagePreview:C,setPreviewMode:I}):(0,r.jsxs)("form",{onSubmit:W,className:"bg-white shadow-lg",children:[(0,r.jsx)(u,{setCurrentSection:O,currentSection:E}),(0,r.jsxs)("div",{className:"p-6",children:[1===E&&(0,r.jsx)(S,{formData:f,imagePreview:C,handleInputChange:L,handleFileUpload:e=>{let t=e.target.files[0];t&&new(c())(t,{quality:.5,maxWidth:1024,maxHeight:1024,success(e){let t=new FileReader;t.onloadend=()=>{A(t.result),N(a=>({...a,coverImageBase64:t.result,coverImage:e}))},t.readAsDataURL(e)},error(e){console.error("Compression failed: ",e)}})},categoryOptions:m,countryOptions:h,userRole:t,setCurrentSection:O}),2===E&&(0,r.jsx)(D,{formData:f,handleInputChange:L,setCurrentSection:O}),3===E&&(0,r.jsx)(F,{formData:f,handleInputChange:L,setCurrentSection:O,handleToggleChange:(e,t)=>{N(a=>({...a,[e]:t}))},isLoading:k})]})]})]})},E=()=>{let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)("free"),x=(0,s.useRef)(null),h=(0,o.useRouter)(),[p,{isLoading:g,error:b}]=(0,l.$R)(),y=async()=>{let t=new FormData;t.append("file",e),t.append("institution",a),t.append("judges",d),console.log(t);try{let e=await p(t).unwrap();console.log(null==e?void 0:e.statusCode),console.log(200==e.statusCode),console.log(e.status),e?(i.Ay.success("wribate created successfully","success"),h.push("/")):(console.log(e),i.Ay.error((null==e?void 0:e.message)||"error occured while creating wribate","error"))}catch(e){console.log(e.data),console.error(e),i.Ay.error((null==e?void 0:e.message)||"error occured while creating wribate","error")}};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-lg font-medium mb-2",children:"Upload Batch Wribates in Below Format. Batch Wribates are Private by default until the Wribate is concluded."}),(0,r.jsx)("div",{className:"overflow-x-auto mb-2",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,r.jsx)("thead",{className:"bg-blue-900 text-white",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"No."}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Name"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Email"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Date"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Submit"})]})}),(0,r.jsx)("tbody",{children:[{id:1,name:"John",email:"abc@gmail.com",date:"DD-MM-YYYY"},{id:2,name:"Sara",email:"xyz@gmail.com",date:"DD-MM-YYYY"},{id:3,name:"Ravi",email:"ravi@ravi.com",date:"DD-MM-YYYY"}].map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.id}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.name}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-center text-blue-500",children:e.email}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.date}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2"})]},e.id))})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Download Template Excel File"})})]}),(0,r.jsxs)("div",{className:"bg-blue-200 text-center p-8 rounded-md mb-6",onDrop:e=>{e.preventDefault(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&t(e.dataTransfer.files[0])},onDragOver:e=>{e.preventDefault()},children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("button",{onClick:()=>x.current.click(),className:"bg-white text-gray-700 font-medium py-2 px-4 rounded inline-flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),(0,r.jsx)("span",{children:"CHOOSE FILES"})]}),(0,r.jsx)("input",{ref:x,type:"file",className:"hidden",onChange:e=>{e.target.files&&e.target.files.length>0&&t(e.target.files[0])},accept:".xlsx,.xls,.csv"})]}),(0,r.jsx)("p",{className:"text-white",children:"or drop files here"}),e&&(0,r.jsxs)("div",{className:"mt-4 bg-white p-3 rounded-md flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-500 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:e.name})]}),(0,r.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>t(null),children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[(0,r.jsx)("label",{className:"w-32 mb-1 sm:mb-0",children:"Organisation :"}),(0,r.jsx)("input",{type:"text",placeholder:"Organisation Name",className:"flex-1 p-2 border border-gray-300 rounded",value:a,onChange:e=>n(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[(0,r.jsx)("label",{className:"w-32 mb-1 sm:mb-0",children:"Submitted By :"}),(0,r.jsx)("input",{type:"text",placeholder:"Display Name",className:"flex-1 p-2 border border-gray-300 rounded",value:d,onChange:e=>c(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[(0,r.jsx)("label",{className:"w-32 mb-1 sm:mb-0",children:"Rotate"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"rotate",value:"free",checked:"free"===u,onChange:()=>m("free"),className:"mr-1"}),(0,r.jsx)("span",{children:"Free"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"rotate",value:"premium",checked:"premium"===u,onChange:()=>m("premium"),className:"mr-1"}),(0,r.jsx)("span",{children:"Premium"})]})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded",disabled:!e||!a||!d,children:"Submit"})})]})};var O=a(5741),T=a(1895);let I=()=>{let{userId:e}=(0,z.d4)(e=>e.auth),[t,a]=(0,s.useState)("single"),l=(0,o.useRouter)();return e?(0,r.jsx)("div",{className:" flex relative justify-center gap-4 items-start flex-col md:flex-row",children:(0,r.jsxs)("div",{className:"w-full md:w-[75%]",children:["single"==t&&(0,r.jsx)(q,{}),"batched"==t&&(0,r.jsx)(E,{})]})}):(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:(0,r.jsx)(T.Zp,{className:"w-full max-w-md p-6",children:(0,r.jsxs)(T.Wu,{className:"text-center",children:[(0,r.jsx)("p",{className:"mb-4",children:"Please log in to access your blogs."}),(0,r.jsx)(O.$,{className:"text-white",onClick:()=>l.push("/signin"),children:"Go to Signin"})]})})})};function L(){return(0,r.jsx)(I,{})}},7267:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n,O:()=>l});let r=(0,a(5710).Z0)({name:"wribate",initialState:{currentWribate:null},reducers:{setCurrentWribate:(e,t)=>{e.currentWribate=t.payload},clearWribate:e=>{e.currentWribate=null}}}),{setCurrentWribate:s,clearWribate:l}=r.actions,n=r.reducer},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2596),s=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},9552:(e,t,a)=>{"use strict";a.d(t,{$R:()=>j,$w:()=>x,Dx:()=>r,Gw:()=>w,Lf:()=>u,Lh:()=>p,Ql:()=>g,RD:()=>c,Ud:()=>m,WA:()=>b,Wm:()=>i,ec:()=>n,ez:()=>l,gr:()=>v,ql:()=>C,uc:()=>s,wE:()=>N,wT:()=>f});let{useSigninMutation:r,useAddCategoryMutation:s,useUpdateCategoryMutation:l,useDeleteCategoryMutation:n,useGetCategoriesQuery:i,useSendOtpMutation:o,useVerifyOtpMutation:d,useUpdateUserStatusMutation:c,useUpdateUserRoleMutation:u,useGetDashboardQuery:m,useGetProfileQuery:x,useUploadImageMutation:h,useCreateWribateMutation:p,useDeleteWribateMutation:g,useGetMyWribatesByCategoryQuery:b,useGetMyWribateByIdQuery:y,useCreateBatchWribateMutation:j,useGetUsersQuery:v,useAddCountryMutation:f,useUpdateCountryMutation:N,useDeleteCountryMutation:w,useGetCountriesQuery:C,useGetHtmlContentQuery:S,useUpdateHtmlContentMutation:A}=a(801).q.injectEndpoints({endpoints:e=>({getCategories:e.query({query:()=>"/admin/getCategories"}),getDashboard:e.query({query:function(){let{startDate:e,endDate:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new URLSearchParams;e&&a.append("startDate",e),t&&a.append("endDate",t);let r=a.toString();return"/admin/dashboard".concat(r?"?".concat(r):"")}}),addCategory:e.mutation({query:e=>{let{newCategory:t}=e;return{url:"/admin/addCategory",method:"POST",body:t}}}),updateCategory:e.mutation({query:e=>{let{id:t,updatedCategory:a}=e;return{url:"/admin/updateCategories/".concat(t),method:"PATCH",body:a}}}),deleteCategory:e.mutation({query:e=>({url:"/admin/deleteCategories/".concat(e),method:"DELETE"})}),getProfile:e.query({query:()=>"/user/getProfile"}),getUsers:e.query({query:()=>"/admin/getUsers"}),updateUserRole:e.mutation({query:e=>({url:"/admin/updateUserRole",method:"POST",body:e})}),updateUserStatus:e.mutation({query:e=>{let{id:t,updatedStatus:a}=e;return{url:"/admin/updateUserStatus/".concat(t),method:"PATCH",body:a}}}),getMyWribatesByCategory:e.query({query:e=>"/admin/writesByCategory/".concat(e)}),getMyWribateById:e.query({query:e=>"/admin/getWribateById/".concat(e)}),signin:e.mutation({query:e=>({url:"/admin/signin",method:"POST",body:e})}),sendOtp:e.mutation({query:e=>({url:"/user/sendOTP",method:"POST",body:e})}),verifyOtp:e.mutation({query:e=>({url:"/user/vertfyOTP",method:"POST",body:e})}),uploadImage:e.mutation({query:e=>{let{type:t,data:a}=e;return{url:"/user/uploadImage?image_type=".concat(t),method:"POST",body:a,headers:{}}}}),createWribate:e.mutation({query:e=>({url:"/user/createWribate",method:"POST",body:e})}),deleteWribate:e.mutation({query:e=>({url:"/admin/deleteWribate/".concat(e),method:"DELETE"})}),createBatchWribate:e.mutation({query:e=>{for(let t of(console.log("FormData entries:"),e.entries()))console.log(t[0]+", "+t[1]);return{url:"/user/createBatchWribate",method:"POST",body:e,headers:{}}}}),addCountry:e.mutation({query:e=>{let{newCountry:t}=e;return{url:"/admin/addCountry",method:"POST",body:t}}}),getCountries:e.query({query:()=>"/admin/getCountries"}),updateCountry:e.mutation({query:e=>{let{id:t,updatedCountry:a}=e;return{url:"/admin/updateCountries/".concat(t),method:"PATCH",body:a}}}),deleteCountry:e.mutation({query:e=>({url:"/admin/deleteCountries/".concat(e),method:"DELETE"})}),getHtmlContent:e.query({query:e=>{let{type:t,name:a}=e;return"/admin/getHtmlContent/".concat(t,"/").concat(a)}}),updateHtmlContent:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/admin/updateHtmlContent/".concat(t),method:"POST",body:a}}})})})}},e=>{var t=t=>e(e.s=t);e.O(0,[540,710,404,212,111,568,501,441,684,358],()=>t(592)),_N_E=e.O()}]);