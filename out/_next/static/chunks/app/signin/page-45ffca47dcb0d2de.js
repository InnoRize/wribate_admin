(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{801:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var a=r(694),o=r(404);let n=(0,a.cw)({baseUrl:"http://localhost:8000/api",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization","Bearer ".concat(t)),e}}),s=(0,o.xP)({baseQuery:n,endpoints:()=>({})})},2818:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(8543);let o=(e,t)=>{let r="toast-".concat(e,"-").concat(t);a.oR.isActive(r)||a.oR[t](e,{toastId:r,position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}},2990:(e,t,r)=>{Promise.resolve().then(r.bind(r,3130))},3130:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),o=r(2115);r(6874);var n=r(5695),s=r(4540),l=r(6581),i=r(9552),u=r(2818),d=r(6203);let c=(0,r(3915).Wp)({apiKey:"AIzaSyDSXyza_Ho5kGy5Y1x45T3ExQIhI1tKtww",authDomain:"wribate-d6342.firebaseapp.com",projectId:"wribate-d6342",storageBucket:"wribate-d6342.firebasestorage.app",messagingSenderId:"995202872094",appId:"1:995202872094:web:9da3a614fd433bfc08cf0f",measurementId:"G-T2D4F06FCJ"}),m=(0,d.xI)(c),h=()=>{let[e,t]=(0,o.useState)(!1),[r,c]=(0,o.useState)("alluarjun@gmail.com"),[h,g]=(0,o.useState)("alluarjun123"),p=(0,n.useRouter)(),y=(0,s.wA)(),[x,{isLoading:b}]=(0,i.Dx)(),f=async e=>{e.preventDefault();var t,a=null;try{let e=await (0,d.x9)(m,r,h),t=(null==e?void 0:e.user)||null;a=(null==t?void 0:t.accessToken)||null}catch(e){}let o={email:r,password:h,firebaseToken:a};try{let e=await x(o).unwrap();if(null==e||(null==e?void 0:e.status)!=1)throw y((0,l.ri)()),console.error("Signin Status not 1:",err),Error(null==e?void 0:e.message);console.log("Signin Successful:",e),console.log(null==e?void 0:e.token),localStorage.setItem("token",null==e?void 0:e.token),y((0,l.LA)(e)),(0,u.A)("Signin successful!","success"),p.push("/")}catch(e){console.error("Signin Failed:",e),y((0,l.ri)()),(0,u.A)((null==e||null==(t=e.data)?void 0:t.message)||"Signin failed. Please try again.","error")}};return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen bg-white",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2 bg-white p-8 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsx)("img",{src:"/logo.jpeg",height:100,width:100})}),(0,a.jsxs)("div",{className:"border-2 border-orange-400 p-6 rounded-md mb-8 relative",children:[(0,a.jsx)("div",{className:"absolute -top-4 left-8 text-orange-400 text-4xl",children:'"'}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-primary mb-2",children:"You"}),(0,a.jsx)("p",{className:"text-xl text-primary",children:"can make anything by writing."}),(0,a.jsx)("p",{className:"text-xl text-orange-400 mt-4",children:"C.S. Lewis"})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("img",{src:"/logo.jpeg",alt:"C.S. Lewis",className:"rounded-md grayscale"})})]})}),(0,a.jsx)("div",{className:"w-full md:w-1/2 bg-gray-100  p-8 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"max-w-md w-full mx-auto",children:[(0,a.jsx)("div",{className:"mb-6 flex flex-row justify-between items-center mb-4 md:mb-8",children:(0,a.jsx)("h1",{className:"text-4xl font-bold text-primary ",children:"WriBate - Admins"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Sign in"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"Sign in with Open account"}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:f,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("input",{type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"enter your email",value:r,onChange:e=>c(e.target.value)})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,a.jsx)("input",{type:e?"text":"password",className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"enter password",value:h,onChange:e=>g(e.target.value)}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>t(!e),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:e?(0,a.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,a.jsxs)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-primary text-white py-3 px-4 rounded-md shadow-sm hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Signin"})]})]})})]})};function g(){return(0,a.jsx)(h,{})}},6581:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,LA:()=>o,ri:()=>n});let a=(0,r(5710).Z0)({name:"auth",initialState:{isLoggedIn:!1,userId:null,userRole:null},reducers:{setCredentials:(e,t)=>{e.isLoggedIn=!0,e.userId=t.payload.userId,e.userRole=t.payload.userRole},logout:e=>{e.isLoggedIn=!1,e.userId=null,e.userRole=null}}}),{setCredentials:o,logout:n}=a.actions,s=a.reducer},9552:(e,t,r)=>{"use strict";r.d(t,{$R:()=>f,$w:()=>h,Dx:()=>a,Gw:()=>C,Lf:()=>c,Lh:()=>p,Ql:()=>y,RD:()=>d,Ud:()=>m,WA:()=>x,Wm:()=>l,ec:()=>s,ez:()=>n,gr:()=>v,ql:()=>S,uc:()=>o,wE:()=>w,wT:()=>j});let{useSigninMutation:a,useAddCategoryMutation:o,useUpdateCategoryMutation:n,useDeleteCategoryMutation:s,useGetCategoriesQuery:l,useSendOtpMutation:i,useVerifyOtpMutation:u,useUpdateUserStatusMutation:d,useUpdateUserRoleMutation:c,useGetDashboardQuery:m,useGetProfileQuery:h,useUploadImageMutation:g,useCreateWribateMutation:p,useDeleteWribateMutation:y,useGetMyWribatesByCategoryQuery:x,useGetMyWribateByIdQuery:b,useCreateBatchWribateMutation:f,useGetUsersQuery:v,useAddCountryMutation:j,useUpdateCountryMutation:w,useDeleteCountryMutation:C,useGetCountriesQuery:S,useGetHtmlContentQuery:k,useUpdateHtmlContentMutation:q}=r(801).q.injectEndpoints({endpoints:e=>({getCategories:e.query({query:()=>"/admin/getCategories"}),getDashboard:e.query({query:function(){let{startDate:e,endDate:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new URLSearchParams;e&&r.append("startDate",e),t&&r.append("endDate",t);let a=r.toString();return"/admin/dashboard".concat(a?"?".concat(a):"")}}),addCategory:e.mutation({query:e=>{let{newCategory:t}=e;return{url:"/admin/addCategory",method:"POST",body:t}}}),updateCategory:e.mutation({query:e=>{let{id:t,updatedCategory:r}=e;return{url:"/admin/updateCategories/".concat(t),method:"PATCH",body:r}}}),deleteCategory:e.mutation({query:e=>({url:"/admin/deleteCategories/".concat(e),method:"DELETE"})}),getProfile:e.query({query:()=>"/user/getProfile"}),getUsers:e.query({query:()=>"/admin/getUsers"}),updateUserRole:e.mutation({query:e=>({url:"/admin/updateUserRole",method:"POST",body:e})}),updateUserStatus:e.mutation({query:e=>{let{id:t,updatedStatus:r}=e;return{url:"/admin/updateUserStatus/".concat(t),method:"PATCH",body:r}}}),getMyWribatesByCategory:e.query({query:e=>"/admin/writesByCategory/".concat(e)}),getMyWribateById:e.query({query:e=>"/admin/getWribateById/".concat(e)}),signin:e.mutation({query:e=>({url:"/admin/signin",method:"POST",body:e})}),sendOtp:e.mutation({query:e=>({url:"/user/sendOTP",method:"POST",body:e})}),verifyOtp:e.mutation({query:e=>({url:"/user/vertfyOTP",method:"POST",body:e})}),uploadImage:e.mutation({query:e=>{let{type:t,data:r}=e;return{url:"/user/uploadImage?image_type=".concat(t),method:"POST",body:r,headers:{}}}}),createWribate:e.mutation({query:e=>({url:"/user/createWribate",method:"POST",body:e})}),deleteWribate:e.mutation({query:e=>({url:"/admin/deleteWribate/".concat(e),method:"DELETE"})}),createBatchWribate:e.mutation({query:e=>{for(let t of(console.log("FormData entries:"),e.entries()))console.log(t[0]+", "+t[1]);return{url:"/user/createBatchWribate",method:"POST",body:e,headers:{}}}}),addCountry:e.mutation({query:e=>{let{newCountry:t}=e;return{url:"/admin/addCountry",method:"POST",body:t}}}),getCountries:e.query({query:()=>"/admin/getCountries"}),updateCountry:e.mutation({query:e=>{let{id:t,updatedCountry:r}=e;return{url:"/admin/updateCountries/".concat(t),method:"PATCH",body:r}}}),deleteCountry:e.mutation({query:e=>({url:"/admin/deleteCountries/".concat(e),method:"DELETE"})}),getHtmlContent:e.query({query:e=>{let{type:t,name:r}=e;return"/admin/getHtmlContent/".concat(t,"/").concat(r)}}),updateHtmlContent:e.mutation({query:e=>{let{id:t,data:r}=e;return{url:"/admin/updateHtmlContent/".concat(t),method:"POST",body:r}}})})})}},e=>{var t=t=>e(e.s=t);e.O(0,[122,540,710,404,543,874,336,441,684,358],()=>t(2990)),_N_E=e.O()}]);